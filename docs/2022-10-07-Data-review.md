# Data review

## Overview
Data set needs to include:
- problem reports
- problem codes
- remedial action
- device information (key on type?)

## Data review by data file

### `foidevproblem.txt`:
- All fields needed from this file
- _*THERE ARE NO COLUMN HEADERS ARE PRESENT IN THE FILE*_
- Add the following column headers manually
```
. MDR_REPORT_KEY
. DEVICE_PROBLEM_CODE
```

### `deviceproblemcodes.txt`:
- All fields needed from this file
- _*THERE ARE NO COLUMN HEADERS ARE PRESENT IN THE FILE*_
- Add the following column headers manually
```
. DEVICE_PROBLEM_CODE
. DEVICE_PROBLEM_TEXT
```

### `foitext2015.txt`:
- All fields are needed
```
. MDR_REPORT_KEY
. MDR_TEXT_KEY
. TEXT_TYPE_CODE
. PATIENT_SEQUENCE_NUMBER
. DATE_REPORT
. FOI_TEXT
```

### `DEVICE2015.txt`:
- Fields marked with 'x' are not needed
```
. MDR_REPORT_KEY
x DEVICE_EVENT_KEY
x IMPLANT_FLAG
x DATE_REMOVED_FLAG
. DEVICE_SEQUENCE_NO
x DATE_RECEIVED
. BRAND_NAME
. GENERIC_NAME
. MANUFACTURER_D_NAME
x MANUFACTURER_D_ADDRESS_1
x MANUFACTURER_D_ADDRESS_2
x MANUFACTURER_D_CITY
x MANUFACTURER_D_STATE_CODE
x MANUFACTURER_D_ZIP_CODE
x MANUFACTURER_D_ZIP_CODE_EXT
x MANUFACTURER_D_COUNTRY_CODE
x MANUFACTURER_D_POSTAL_CODE
x DEVICE_OPERATOR
x EXPIRATION_DATE_OF_DEVICE
. MODEL_NUMBER
x CATALOG_NUMBER
x LOT_NUMBER
x OTHER_ID_NUMBER
. DEVICE_AVAILABILITY
x DATE_RETURNED_TO_MANUFACTURER
. DEVICE_REPORT_PRODUCT_CODE
x DEVICE_AGE_TEXT
x DEVICE_EVALUATED_BY_MANUFACTUR
x COMBINATION_PRODUCT_FLAG
```

### `mdrfoiThru2021.txt`:
- Fields marked with 'x' are not needed;
- Consider modifying this file using pandas to reduce the size of the data before merging with other files.
```
. MDR_REPORT_KEY
x EVENT_KEY
. REPORT_NUMBER
. REPORT_SOURCE_CODE
x MANUFACTURER_LINK_FLAG_
. NUMBER_DEVICES_IN_EVENT
x NUMBER_PATIENTS_IN_EVENT
. DATE_RECEIVED
x ADVERSE_EVENT_FLAG
x PRODUCT_PROBLEM_FLAG
x DATE_REPORT
x DATE_OF_EVENT
x REPROCESSED_AND_REUSED_FLAG
x REPORTER_OCCUPATION_CODE
x HEALTH_PROFESSIONAL
. INITIAL_REPORT_TO_FDA
x DATE_FACILITY_AWARE
x REPORT_DATE
x REPORT_TO_FDA
x DATE_REPORT_TO_FDA
x EVENT_LOCATION
x DATE_REPORT_TO_MANUFACTURER
x MANUFACTURER_CONTACT_T_NAME
x MANUFACTURER_CONTACT_F_NAME
x MANUFACTURER_CONTACT_L_NAME
x MANUFACTURER_CONTACT_STREET_1
x MANUFACTURER_CONTACT_STREET_2
x MANUFACTURER_CONTACT_CITY
x MANUFACTURER_CONTACT_STATE
x MANUFACTURER_CONTACT_ZIP_CODE
x MANUFACTURER_CONTACT_ZIP_EXT
x MANUFACTURER_CONTACT_COUNTRY
x MANUFACTURER_CONTACT_POSTAL
x MANUFACTURER_CONTACT_AREA_CODE
x MANUFACTURER_CONTACT_EXCHANGE
x MANUFACTURER_CONTACT_PHONE_NO
x MANUFACTURER_CONTACT_EXTENSION
x MANUFACTURER_CONTACT_PCOUNTRY
x MANUFACTURER_CONTACT_PCITY
x MANUFACTURER_CONTACT_PLOCAL
. MANUFACTURER_G1_NAME
x MANUFACTURER_G1_STREET_1
x MANUFACTURER_G1_STREET_2
x MANUFACTURER_G1_CITY
x MANUFACTURER_G1_STATE_CODE
x MANUFACTURER_G1_ZIP_CODE
x MANUFACTURER_G1_ZIP_CODE_EXT
x MANUFACTURER_G1_COUNTRY_CODE
x MANUFACTURER_G1_POSTAL_CODE
x DATE_MANUFACTURER_RECEIVED
x DEVICE_DATE_OF_MANUFACTURE
x SINGLE_USE_FLAG
. REMEDIAL_ACTION
x PREVIOUS_USE_CODE
x REMOVAL_CORRECTION_NUMBER
. EVENT_TYPE
x DISTRIBUTOR_NAME
x DISTRIBUTOR_ADDRESS_1
x DISTRIBUTOR_ADDRESS_2
x DISTRIBUTOR_CITY
x DISTRIBUTOR_STATE_CODE
x DISTRIBUTOR_ZIP_CODE
x DISTRIBUTOR_ZIP_CODE_EXT
x REPORT_TO_MANUFACTURER
. MANUFACTURER_NAME
x MANUFACTURER_ADDRESS_1
x MANUFACTURER_ADDRESS_2
x MANUFACTURER_CITY
x MANUFACTURER_STATE_CODE
x MANUFACTURER_ZIP_CODE
x MANUFACTURER_ZIP_CODE_EXT
x MANUFACTURER_COUNTRY_CODE
x MANUFACTURER_POSTAL_CODE
. TYPE_OF_REPORT
x SOURCE_TYPE
x DATE_ADDED
x DATE_CHANGED
x REPORTER_COUNTRY_CODE
x PMA_PMN_NUM
x EXEMPTION_NUMBER
. SUMMARY_REPORT
. NOE_SUMMARIZED
```

### `patientThru2021.txt`:
- Fields marked with 'x' are not needed;
- _*No fields needed from this file*_
```
x MDR_REPORT_KEY
x PATIENT_SEQUENCE_NUMBER
x DATE_RECEIVED
x SEQUENCE_NUMBER_TREATMENT
x SEQUENCE_NUMBER_OUTCOME
```

### `foitextChange.txt`:
- Fields marked with 'x' are not needed;
- _*No fields needed from this file*_
```
x MDR_REPORT_KEY
x MDR_TEXT_KEY
x TEXT_TYPE_CODE
x PATIENT_SEQUENCE_NUMBER
x DATE_REPORT
x FOI_TEXT
```

## Summary of data needed
```
1. `foidevproblem.txt`:
	. MDR_REPORT_KEY
	. DEVICE_PROBLEM_CODE
2. `deviceproblemcodes.txt`:
	. DEVICE_PROBLEM_CODE
	. DEVICE_PROBLEM_TEXT
3. `foitext2015.txt`:
	. MDR_REPORT_KEY
	. MDR_TEXT_KEY
	. TEXT_TYPE_CODE
	. PATIENT_SEQUENCE_NUMBER
	. DATE_REPORT
	. FOI_TEXT
4. `DEVICE2015.txt`:
	. MDR_REPORT_KEY
	. DEVICE_SEQUENCE_NO
	. BRAND_NAME
	. GENERIC_NAME
	. MANUFACTURER_D_NAME
	. MODEL_NUMBER
	. DEVICE_AVAILABILITY
	. DEVICE_REPORT_PRODUCT_CODE
5. `mdrfoiThru2021.txt`:
	. MDR_REPORT_KEY
	. REPORT_NUMBER
	. REPORT_SOURCE_CODE
	. NUMBER_DEVICES_IN_EVENT
	. DATE_RECEIVED
	. INITIAL_REPORT_TO_FDA
	. MANUFACTURER_G1_NAME
	. REMEDIAL_ACTION
	. EVENT_TYPE
	. MANUFACTURER_NAME
	. TYPE_OF_REPORT
	. SUMMARY_REPORT
	. NOE_SUMMARIZED
```